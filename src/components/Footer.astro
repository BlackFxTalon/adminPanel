---
import FooterMobileMenu from "../components/FooterMobileMenu.astro";
import AccountEnterPopup from "../components/AccountEnterPopup.astro";
---

<footer class="footer" x-data="{footerMobileMenu:false, accountEnterPopup: false}">
    <div class="container footer__container">
    <button type="button" class="footer__hamb-btn" x-on:click="footerMobileMenu = !footerMobileMenu" x-bind:class="{'active': footerMobileMenu === true}">
        <span></span>         
        <span></span>
        <span></span>
    </button>
    <ul class="footer__right" role="list">
        <li class="footer__right-item">
            <button type="button" class="footer__add-options-btn">
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.9993 1.66663V20.3333M1.66602 11H20.3327" stroke="#869AB8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>                            
            </button>
        </li>
        <li class="footer__right-item">
            <button type="button" class="footer__new-messages-btn">
                <svg width="26" height="22" viewBox="0 0 26 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M25 4.33329C25 2.86053 23.8061 1.66663 22.3333 1.66663H3.66667C2.19391 1.66663 1 2.86053 1 4.33329M25 4.33329V17.6666C25 19.1394 23.8061 20.3333 22.3333 20.3333H3.66667C2.19391 20.3333 1 19.1394 1 17.6666V4.33329M25 4.33329L13 12.3333L1 4.33329" stroke="#869AB8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>    
            </button>
        </li>
        <li class="footer__right-item">
            <button type="button" class="footer__new-nots-btn">
                <svg width="24" height="26" viewBox="0 0 24 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7.99967 19.6667V21C7.99967 22.0609 8.4211 23.0783 9.17125 23.8284C9.92139 24.5786 10.9388 25 11.9997 25C13.0605 25 14.078 24.5786 14.8281 23.8284C15.5782 23.0783 15.9997 22.0609 15.9997 21V19.6667M9.33301 3.66667C9.33301 2.95942 9.61396 2.28115 10.1141 1.78105C10.6142 1.28095 11.2924 1 11.9997 1C12.7069 1 13.3852 1.28095 13.8853 1.78105C14.3854 2.28115 14.6663 2.95942 14.6663 3.66667C16.1976 4.3907 17.5029 5.51777 18.4424 6.92707C19.3819 8.33636 19.9203 9.97476 19.9997 11.6667V15.6667C20.1 16.4956 20.3936 17.2894 20.8568 17.9842C21.3199 18.6789 21.9398 19.2552 22.6663 19.6667H1.33301C2.05959 19.2552 2.67942 18.6789 3.14259 17.9842C3.60576 17.2894 3.89933 16.4956 3.99967 15.6667V11.6667C4.07909 9.97476 4.61741 8.33636 5.55694 6.92707C6.49647 5.51777 7.8018 4.3907 9.33301 3.66667Z" stroke="#869AB8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>    
            </button>
        </li>
        <li class="footer__right-item">
            <button type="button" class="footer__profile-btn" x-on:click="accountEnterPopup = true">
                <img class="header__avatar-btn-img" src="/images/footer-avatar-placeholder.svg" alt="footer avatar" width="32" height="32" loading="lazy" decoding="async">
            </button>
        </li>
    </ul>
    </div>
    <FooterMobileMenu></FooterMobileMenu>
    <AccountEnterPopup></AccountEnterPopup>
</footer>

<style lang="scss" is:global>
.footer {
    padding-top: 10px;
    padding-bottom: 10px;
    background-color: var(--gray200);
    box-shadow: -4px 0px 8px rgba(73, 80, 87, 0.15);
    position: fixed;
    z-index: 99;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 54px;
    border-top: 1px solid var(--grey-color);
    border-bottom: 1px solid var(--grey-color);

    &__container {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    &__hamb-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: transparent;
        border: none;
        padding: 0;
        margin: 0;
        width: 24px;
        height: 20px;
        position: relative;

        span {
            height: 2px;
            background-color: var(--grey600);
            width: 100%;
            position: absolute;
            transition: .3s ease-in-out;
        }

        span:first-child {
            top: 0;
        }

        span:last-child {
            bottom: 0;
        }
    }

    &__hamb-btn.active {

        span {
            background-color: var(--primary);
        }

        span:first-child {
            transform: rotate(45deg);
            margin-top: 9px;
        }

        span:last-child {
            transform: rotate(-45deg);
            margin-bottom: 9px;
        }

        span:nth-child(2) {
            opacity: 0;
            visibility: hidden;
        }
    }

    &__right {
        display: grid;
        align-items: center;
        grid-template-columns: repeat(4,max-content);
        gap: 24px;
        padding: 0;
        margin: 0;
    }

    &__add-options-btn,
    &__new-messages-btn,
    &__profile-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: transparent;
        border: none;
        padding: 0;
        margin: 0;
        width: 32px;
        height: 32px;
    }
}

@media (min-width:1200px) {
    .footer {
        display: none;
    }
}
</style>